
<div class="container">
  <h1 class="mt-5">Résultats de recherche pour "<%= @text %>"</h1>

  <div class="row mt-4">
    <% @enterprises.each do |enterprise| %>
      <div class="col-lg-4 col-md-6 mb-4">
        <div class="card h-100">
          <%= cl_image_tag(enterprise.photo.key, width: 400, height: 300, crop: :fit, class: "card-img-top enterprise-image") %>
          <div class="card-body">
            <h5 class="card-title"><%= enterprise.name %></h5>
            <p class="card-text"><%= truncate(enterprise.description, length: 100) %></p>
          </div>
          <div class="card-footer">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <%= link_to "Consulter les services", enterprise_services_path(enterprise.id), class: "btn btn-primary btn-sm mr-2"%>
                <%= link_to "Reviews", enterprise_reviews_path(enterprise.id), class: "btn btn-primary btn-sm mr-2"%>
              </div>
              <div>
                <% if Favorite.exists?(enterprise_id: enterprise.id, user_id: current_user.id) %>
                  <%= link_to "Retirer des favoris", enterprise_remove_to_favorites_path(enterprise.id), class: "btn btn-danger btn-sm"%>
                <% else %>
                  <%= link_to "Ajouter aux favoris", enterprise_add_to_favorites_path(enterprise.id), class: "btn btn-primary btn-sm"%>
                <% end %>
              </div>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
</div>


<style>
  .enterprise-image {
    width: 412px;
    height: 200px;
    object-fit: fit; /* ou `object-fit: contain;` selon le rendu souhaité */
  }
</style>
